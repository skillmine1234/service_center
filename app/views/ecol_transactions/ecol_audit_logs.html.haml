.show_ticket
  .header-form-main{:style=>'background-color: #ecf5fa; width: 50%; height: 150px; display: inline-block;'}
    %h3
      Customer:
      = @ecol_transaction.try(:customer_code) 
      = link_to @ecol_transaction.ecol_customer.name , @ecol_transaction.ecol_customer  rescue "No Customer for Code #{@ecol_transaction.try(:customer_code)}" 
    %h3
      Transfer Unique No:
      = @ecol_transaction.try(:transfer_unique_no)
    %h3
      Received At:
      = @ecol_transaction.received_at.try(:strftime, "%d/%m/%Y %I:%M%p")
  .header-form-extended{:style=>'background-color: #ecf5fa; width: 50%; height: 150px; display: inline-block;'}
    %h3
      Status:
      = @ecol_transaction.status
    %h3 
      Remitter Reference No:
      = @ecol_transaction.rmtr_ref
    %h3
      Settled At:
      = @ecol_transaction.settled_at.try(:strftime, "%d/%m/%Y %I:%M%p")
  .header-form-main{:style=>'background-color: #F1F2F8; width: 100%; height: 350px;display: inline-block;'}
    %table.table.table-bordered.table-striped.table-hover{:style=>'background-color: #F1F2F8;'}
      .thead
        %th{:style=>'text-align:left; background-color: lightblue;'}
          Attempt No
        %th{:style=>'text-align:left; background-color: lightblue;'}
          Fault Code
        %th{:style=>'text-align:left; background-color: lightblue;'}
          Fault Text
        %th{:style=>'text-align:left; background-color: lightblue;'}
          Fault Result
        %th{:style=>'text-align:left; background-color: lightblue;'}
          Request
        %th{:style=>'text-align:left; background-color: lightblue;'}
          Reply
        %th{:style=>'text-align:left; background-color: lightblue;'}
          Requested At
        %th{:style=>'text-align:left; background-color: lightblue;'}
          Replied At

      .tbody
        - @ecol_values.each do |value|
          %tr
            %td{:style=>'text-align:left;'}
              = value.attempt_no   
            %td{:style=>'text-align:left;'}
              = value.fault_code   
            %td{:style=>'text-align:left;'}
              - if !value.fault_reason.nil?
                = link_to "Show Fault Text", "#", :class => 'active-link', :href => "#faultText", data: { fault_reason: value.fault_reason, fault_code: value.fault_code} 
              - else
                = '-' 
            %td{:style=>'text-align:left;'}
              = link_to "Show Fault", "#", :class => 'val-fault-link', :href => "#faultLink", data: { request: value.fault_bitstream }
            %td{:style=>'text-align:left;'}
              = link_to "Show Request", "#", :class => 'val-request-link', :href => "#requestText", data: { request: value.req_bitstream }
            %td{:style=>'text-align:left;'}
              = link_to "Show Response", "#", :class => 'val-reply-link', :href => "#replyText", data: { reply: value.rep_bitstream }
            %td{:style=>'text-align:left;'}
              = value.req_timestamp
            %td{:style=>'text-align:left;'}
              = value.rep_timestamp
#faultLink.modal.hide.fade{"aria-hidden" => "true", "aria-labelledby" => "myModalLabel", :role => "dialog", :tabindex => "-1"}
  .modal-header
    %button.close{"aria-hidden" => "true", "data-dismiss" => "modal", :type => "button"} ×
    %h3 Fault
    #error_message{:style => 'color:red'}
  .modal-body{:style => "max-height:450px;"}
    .demo-area
      %button#d_clip_button1.my_clip_button1{"data-clipboard-target" => "req_xml"}
        %b Copy To Clipboard...
    %pre#req_xml{:style => 'word-wrap: break-word'}
      .request{:style => 'word-wrap: break-word'}
#requestText.modal.hide.fade{"aria-hidden" => "true", "aria-labelledby" => "myModalLabel", :role => "dialog", :tabindex => "-1"}
  .modal-header
    %button.close{"aria-hidden" => "true", "data-dismiss" => "modal", :type => "button"} ×
    %h3 Request
    #error_message{:style => 'color:red'}
  .modal-body{:style => "max-height:450px;"}
    .demo-area
      %button#d_clip_button1.my_clip_button1{"data-clipboard-target" => "req_xml"}
        %b Copy To Clipboard...
    %pre#req_xml{:style => 'word-wrap: break-word'}
      .request{:style => 'word-wrap: break-word'}
#replyText.modal.hide.fade{"aria-hidden" => "true", "aria-labelledby" => "myModalLabel", :role => "dialog", :tabindex => "-1"}
  .modal-header
    %button.close{"aria-hidden" => "true", "data-dismiss" => "modal", :type => "button"} ×
    %h3 Reply
    #error_message{:style => 'color:red'}
  .modal-body{:style => "max-height:450px;"}
    .demo-area
      %button#d_clip_button2.my_clip_button2{"data-clipboard-target" => "reply_xml"}
        %b Copy To Clipboard...
    %pre#reply_xml{:style => 'word-wrap: break-word'}
      .reply{:style => 'word-wrap: break-word'}
#faultText.modal.hide.fade{"aria-hidden" => "true", "aria-labelledby" => "myModalLabel", :role => "dialog", :tabindex => "-1"}
  .modal-header
    %button.close{"aria-hidden" => "true", "data-dismiss" => "modal", :type => "button"} ×
    %h3 Fault Text
    #error_message{:style => 'color:red'}
  .modal-body{:style => "max-height:450px;"}
    %table.table.no-border
      %tr
        %td.label Fault Code: 
        %td
          %label.fault_code{:style => 'word-wrap: break-word'}
      %tr
        %td.label Fault Reason:
        %td
          %label.fault_reason{:style => 'word-wrap: break-word'}